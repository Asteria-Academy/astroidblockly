<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Astroid Editor</title>
		<link rel="stylesheet" href="/src/style.css" />
	</head>
	<body>
		<div class="app-shell">
			<header class="top-app-bar">
				<div class="app-bar-left">
					<button
						id="back-button"
						class="app-bar-button"
						aria-label="Back to Main Menu"
					>
						<svg viewBox="0 0 24 24" focusable="false">
							<path
								d="M19 11H7.83l5.58-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H19v-2z"
							/>
						</svg>
					</button>
					<div class="file-name-field">
						<input
							id="project-name-input"
							type="text"
							value="Loading..."
							spellcheck="false"
							aria-label="Project name"
						/>
					</div>
					<div
						id="save-indicator"
						class="save-indicator saved"
						role="status"
						aria-live="polite"
					>
						<span class="save-indicator-icon"></span>
						<span id="save-indicator-label" class="save-indicator-label"
							>Saved</span
						>
					</div>
					<div
						id="challenge-metrics"
						class="challenge-metrics"
						style="display: none"
					>
						<span class="metric-item">
							<svg
								viewBox="0 0 24 24"
								width="16"
								height="16"
								style="fill: #41d8ff; vertical-align: middle"
							>
								<path
									d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"
								/>
							</svg>
							<span id="metric-time">0:00</span>
						</span>
						<span class="metric-item">
							<svg
								viewBox="0 0 24 24"
								width="16"
								height="16"
								style="fill: #ffb84d; vertical-align: middle"
							>
								<path
									d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"
								/>
							</svg>
							<span id="metric-blocks">0 blocks</span>
						</span>
						<span class="metric-item">
							<svg
								viewBox="0 0 24 24"
								width="16"
								height="16"
								style="fill: #4caf50; vertical-align: middle"
							>
								<path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z" />
							</svg>
							<span id="metric-attempts">Attempt #1</span>
						</span>
					</div>
				</div>
				<div class="app-bar-right">
					<div id="app-mode-toggle" class="mode-toggle">
						<span id="mode-label-run" class="mode-label">Run</span>
						<label class="switch">
							<input
								type="checkbox"
								id="mode-checkbox"
								aria-label="Toggle simulation mode"
							/>
							<span class="slider"></span>
						</label>
						<span id="mode-label-sim" class="mode-label">Simulate</span>
					</div>
					<div class="view-toggle" role="tablist">
						<button
							id="view-toggle-blocks"
							class="view-toggle-button active"
							data-target="blocks"
							role="tab"
							aria-selected="true"
						>
							3D Blocks
						</button>
						<button
							id="view-toggle-chat"
							class="view-toggle-button"
							data-target="chat"
							role="tab"
							aria-selected="false"
						>
							Chat AI
						</button>
					</div>
				</div>
			</header>

			<main class="workspace-stage">
				<div id="blockly-stage">
					<div id="blockly-div"></div>
					<div id="trash-zone" class="trash-zone" aria-hidden="true">
						<svg viewBox="0 0 24 24" focusable="false" aria-hidden="true">
							<path
								d="M9 3V4H4V6H5V20C5 21.1 5.9 22 7 22H17C18.1 22 19 21.1 19 20V6H20V4H15V3H9ZM7 6H17V20H7V6ZM9 8V18H11V8H9ZM13 8V18H15V8H13Z"
							/>
						</svg>
						<span>Drop to delete</span>
					</div>
				</div>

				<div id="floating-toolbar" class="floating-toolbar">
					<div class="toolbar-header" id="toolbar-grip">
						<span class="grip-dots" aria-hidden="true"></span>
						<button
							id="toolbar-collapse"
							class="toolbar-collapse"
							aria-label="Toggle toolbar"
						>
							<svg viewBox="0 0 24 24" focusable="false">
								<path d="M7 10l5 5 5-5H7z" />
							</svg>
						</button>
					</div>

					<div id="toolbar-content" class="toolbar-content">
						<button
							id="play-button"
							class="toolbar-button primary"
							aria-label="Run sequence"
						>
							<svg viewBox="0 0 24 24" focusable="false">
								<path d="M8 5v14l11-7z" />
							</svg>
						</button>

						<div class="toolbar-divider"></div>

						<button
							id="bt-status-button"
							class="toolbar-button"
							aria-label="Bluetooth status"
						>
							<svg viewBox="0 0 24 24" focusable="false">
								<path
									d="M17.71 7.71L12 2h-1v7.59L6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 11 14.41V22h1l5.71-5.71-4.3-4.29 4.3-4.29zM13 5.83l1.88 1.88L13 9.59V5.83zm1.88 10.46L13 18.17v-3.76l1.88 1.88z"
								/>
							</svg>
						</button>

						<button
							id="reset-button"
							class="toolbar-button"
							aria-label="Reset workspace"
						>
							<svg
								fill="#000000"
								width="800px"
								height="800px"
								viewBox="0 0 512 512"
								data-name="Layer 1"
								id="Layer_1"
								xmlns="http://www.w3.org/2000/svg"
							>
								<path
									d="M64,256H34A222,222,0,0,1,430,118.15V85h30V190H355V160h67.27A192.21,192.21,0,0,0,256,64C150.13,64,64,150.13,64,256Zm384,0c0,105.87-86.13,192-192,192A192.21,192.21,0,0,1,89.73,352H157V322H52V427H82V393.85A222,222,0,0,0,478,256Z"
								/>
							</svg>
						</button>

						<button id="undo-button" class="toolbar-button" aria-label="Undo">
							<svg
								fill="#000000"
								width="800px"
								height="800px"
								viewBox="-7 0 32 32"
								version="1.1"
								xmlns="http://www.w3.org/2000/svg"
							>
								<title>undo</title>
								<path
									d="M7.75 13.313v2.063c0 0.438-0.344 0.625-0.688 0.375l-6.781-4.875c-0.375-0.25-0.375-0.719 0-0.969l6.781-4.906c0.344-0.25 0.688-0.094 0.688 0.344v2.031c1.531 0 4.688 0.188 6.75 1.531 4.719 3.094 7.438 13.219-8 18.344 0 0 9.313-4.656 7.688-11.063-0.406-1.719-2.313-3.25-6.438-2.875z"
								></path>
							</svg>
						</button>

						<button id="redo-button" class="toolbar-button" aria-label="Redo">
							<svg
								fill="#000000"
								width="800px"
								height="800px"
								viewBox="-7 0 32 32"
								version="1.1"
								xmlns="http://www.w3.org/2000/svg"
								style="transform: scaleX(-1); transform-origin: 50% 50%"
							>
								<title>undo</title>
								<path
									d="M7.75 13.313v2.063c0 0.438-0.344 0.625-0.688 0.375l-6.781-4.875c-0.375-0.25-0.375-0.719 0-0.969l6.781-4.906c0.344-0.25 0.688-0.094 0.688 0.344v2.031c1.531 0 4.688 0.188 6.75 1.531 4.719 3.094 7.438 13.219-8 18.344 0 0 9.313-4.656 7.688-11.063-0.406-1.719-2.313-3.25-6.438-2.875z"
								></path>
							</svg>
						</button>

						<button
							id="viewer-toggle"
							class="toolbar-button"
							aria-label="Toggle 3D viewer"
						>
							<svg viewBox="0 0 24 24" focusable="false">
								<path
									d="M12 7a5 5 0 0 0-5 5 5 5 0 0 0 10 0 5 5 0 0 0-5-5zm0 8.2A3.2 3.2 0 0 1 8.8 12 3.2 3.2 0 0 1 12 8.8 3.2 3.2 0 0 1 15.2 12 3.2 3.2 0 0 1 12 15.2z"
								/>
								<path
									d="M12 4.5l7.53 4.35-7.53 4.35L4.47 8.85 12 4.5m0-2.31L2 9l10 6.81L22 9 12 2.19z"
								/>
							</svg>
						</button>

						<button
							id="recenter-button"
							class="toolbar-button"
							aria-label="Recenter workspace"
						>
							<svg viewBox="0 0 24 24" focusable="false">
								<path
									d="M12 2c-.55 0-1 .45-1 1v1.07A8.002 8.002 0 0 0 4.07 11H3a1 1 0 0 0 0 2h1.07A8.002 8.002 0 0 0 11 19.93V21a1 1 0 0 0 2 0v-1.07A8.002 8.002 0 0 0 19.93 13H21a1 1 0 0 0 0-2h-1.07A8.002 8.002 0 0 0 13 4.07V3c0-.55-.45-1-1-1zm0 5a5 5 0 1 1 0 10 5 5 0 0 1 0-10z"
								/>
							</svg>
						</button>
					</div>
				</div>

				<div id="simulator-container" class="simulator-container">
					<div id="simulator-header" class="simulator-header">
						<span class="simulator-title">3D Viewer</span>
						<div
							id="challenge-metrics-fullscreen"
							class="challenge-metrics-fullscreen"
							style="display: none"
						>
							<span class="metric-item">
								<svg
									viewBox="0 0 24 24"
									width="16"
									height="16"
									style="fill: #41d8ff; vertical-align: middle"
								>
									<path
										d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"
									/>
								</svg>
								<span id="metric-time-fullscreen">0:00</span>
							</span>
							<span class="metric-item">
								<svg
									viewBox="0 0 24 24"
									width="16"
									height="16"
									style="fill: #ffb84d; vertical-align: middle"
								>
									<path
										d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"
									/>
								</svg>
								<span id="metric-blocks-fullscreen">0 blocks</span>
							</span>
							<span class="metric-item">
								<svg
									viewBox="0 0 24 24"
									width="16"
									height="16"
									style="fill: #4caf50; vertical-align: middle"
								>
									<path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z" />
								</svg>
								<span id="metric-attempts-fullscreen">Attempt #1</span>
							</span>
						</div>
						<div class="simulator-header-actions">
							<button
								id="simulator-close"
								class="simulator-header-button"
								aria-label="Collapse viewer"
							>
								<svg viewBox="0 0 24 24">
									<path d="M19 13H5v-2h14v2z" />
								</svg>
							</button>
							<button
								id="fullscreen-button"
								class="simulator-header-button"
								aria-label="Toggle fullscreen"
							>
								<svg class="icon-fullscreen-enter" viewBox="0 0 24 24">
									<path
										d="M15 3h6v6h-2V5h-4V3zM9 3v2H5v4H3V3h6zm6 18v-2h4v-4h2v6h-6zm-6 0H3v-6h2v4h4v2z"
									/>
								</svg>
								<svg
									class="icon-fullscreen-exit"
									viewBox="0 0 24 24"
									style="display: none"
								>
									<path
										d="M4 8h4V4h2v6H4zm12-4v4h4v2h-6V4zm4 12h-4v4h-2v-6h6zm-12 4v-4H4v-2h6v6z"
									/>
								</svg>
							</button>
						</div>
					</div>
					<div
						id="simulator-resize-handle"
						class="simulator-resize-handle"
						aria-hidden="true"
					></div>
				</div>
			</main>
		</div>

		<script type="module" src="/src/main.ts"></script>
	</body>
</html>
